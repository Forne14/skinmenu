{% load wagtailcore_tags %}

<section class="section">
  <div class="container-shell">
    <div class="flex items-end justify-between gap-6">
      <div class="max-w-2xl">
        {% if block.value.heading %}
          <h2 class="font-display text-3xl md:text-4xl tracking-tightish text-heading">
            {{ block.value.heading }}
          </h2>
        {% endif %}
        {% if block.value.intro %}
          <p class="mt-2 text-muted">
            {{ block.value.intro }}
          </p>
        {% endif %}
      </div>

      {% if block.value.cta_page %}
        <div class="hidden md:block">
          <a href="{% pageurl block.value.cta_page %}" class="btn btn-ghost">
            {{ block.value.cta_label|default:"See full menu" }}
          </a>
        </div>
      {% endif %}
    </div>

    <div class="mt-8 grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
      {% for p in block.value.featured_pages %}
        <a href="{% pageurl p %}" class="card p-6 hover:border-border/70 transition">
          <div class="flex items-center justify-between gap-4">
            <h3 class="font-display text-xl text-heading">{{ p.title }}</h3>
            <span class="text-muted">â†’</span>
          </div>
          {% if p.search_description %}
            <p class="mt-3 text-sm text-muted">{{ p.search_description }}</p>
          {% endif %}
        </a>
      {% endfor %}
    </div>

    {% if block.value.cta_page %}
      <div class="mt-8 md:hidden">
        <a href="{% pageurl block.value.cta_page %}" class="btn btn-secondary w-full">
          {{ block.value.cta_label|default:"See full menu" }}
        </a>
      </div>
    {% endif %}
  </div>
</section>
