{% extends "base.html" %}
{% load wagtailcore_tags wagtailimages_tags %}

{% block content %}

  {% if page.sections %}
    {% for block in page.sections %}
      {% include_block block %}
    {% endfor %}
  {% endif %}

  {% if page.team_members.all %}
    <section class="section reviews-bleed">
      <div class="reviews-surface py-14">
        <div class="container-shell">
          <div class="flex items-end justify-between mb-8">
            <h2 class="section-title">The team</h2>
          </div>

          <div class="flex gap-6 overflow-x-auto snap-x snap-mandatory pb-2">
            {% for m in page.team_members.all %}
              <div class="snap-start min-w-[260px] md:min-w-[300px]">
                <div class="card p-4 h-full">
                  {% if m.image %}
                    {% image m.image fill-600x600 as img %}
                    <img
                      class="w-full aspect-square object-cover rounded-2xl border border-border/30"
                      src="{{ img.url }}"
                      alt="{{ img.alt|default:m.name }}"
                    />
                  {% else %}
                    <div class="w-full aspect-square rounded-2xl bg-surface-2 border border-border/30"></div>
                  {% endif %}

                  <div class="mt-4">
                    <div class="text-base font-medium">{{ m.name }}</div>
                    {% if m.role %}
                      <div class="text-sm text-muted mt-1">{{ m.role }}</div>
                    {% endif %}
                    {% if m.bio %}
                      <p class="text-sm text-fg/75 leading-relaxed mt-3">
                        {{ m.bio }}
                      </p>
                    {% endif %}
                  </div>
                </div>
              </div>
            {% endfor %}
          </div>

        </div>
      </div>
    </section>
  {% endif %}

{% endblock %}
